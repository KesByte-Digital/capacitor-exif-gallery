{"version":3,"file":"PolylineDecoder.js","sourceRoot":"","sources":["../../src/PolylineDecoder.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,QAAQ,MAAM,UAAU,CAAC;AAIrC;;;;;;;;;;;;;;;GAeG;AACH,MAAM,OAAO,eAAe;IAC1B;;OAEG;IACH,MAAM,CAAC,MAAM,CAAC,OAAe;QAC3B,IAAI,CAAC;YACH,gEAAgE;YAChE,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAEzC,4BAA4B;YAC5B,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QACrD,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YACpB,MAAM,IAAI,KAAK,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;CACF","sourcesContent":["import * as polyline from 'polyline';\n\nimport type { LatLng } from './definitions';\n\n/**\n * Decodes Google's Encoded Polyline format to coordinate array.\n *\n * Algorithm: https://developers.google.com/maps/documentation/utilities/polylinealgorithm\n *\n * Precision: Uses precision 5 (Google Maps default, Â±1 meter accuracy).\n * Higher precision polylines (precision 6+) are also supported automatically.\n *\n * @param encoded - Encoded polyline string (e.g., \"_p~iF~ps|U_ulLnnqC\")\n * @returns Array of LatLng coordinates\n * @throws Error if encoded string is malformed or exceeds limits\n *\n * @example\n * const coords = PolylineDecoder.decode(\"_p~iF~ps|U_ulLnnqC\");\n * // Returns: [{ lat: 38.5, lng: -120.2 }, { lat: 40.7, lng: -120.95 }, ...]\n */\nexport class PolylineDecoder {\n  /**\n   * Decodes an encoded polyline string to LatLng coordinate array.\n   */\n  static decode(encoded: string): LatLng[] {\n    try {\n      // polyline package returns array of [lat, lng] coordinate pairs\n      const decoded = polyline.decode(encoded);\n\n      // Convert to LatLng objects\n      return decoded.map(([lat, lng]) => ({ lat, lng }));\n    } catch (error: any) {\n      throw new Error(`Failed to decode polyline: ${error.message}`);\n    }\n  }\n}\n"]}